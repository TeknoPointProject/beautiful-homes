import{sampleRUM,loadHeader,loadFooter,decorateButtons,decorateIcons,decorateSections,decorateBlocks,decorateTemplateAndTheme,waitForLCP,loadBlocks,loadCSS}from"./aem.js";const LCP_BLOCKS=[];export function moveAttributes(e,t,o){o||(o=[...e.attributes].map((({nodeName:e})=>e))),o.forEach((o=>{const a=e.getAttribute(o);a&&(t.setAttribute(o,a),e.removeAttribute(o))}))}export function moveInstrumentation(e,t){moveAttributes(e,t,[...e.attributes].map((({nodeName:e})=>e)).filter((e=>e.startsWith("data-aue-")||e.startsWith("data-richtext-"))))}async function loadFonts(){await loadCSS(`${window.hlx.codeBasePath}/styles/fonts.css`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch(e){}}function buildAutoBlocks(){}export function decorateMain(e){decorateButtons(e),decorateIcons(e),buildAutoBlocks(e),decorateSections(e),decorateBlocks(e)}async function loadEager(e){document.documentElement.lang="en",decorateTemplateAndTheme();const t=e.querySelector("main");t&&(decorateMain(t),document.body.classList.add("appear"),await waitForLCP(LCP_BLOCKS));try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&loadFonts()}catch(e){}}async function loadLazy(e){const t=e.querySelector("main");await loadBlocks(t);const{hash:o}=window.location,a=!!o&&e.getElementById(o.substring(1));o&&a&&a.scrollIntoView(),loadHeader(e.querySelector("header")),loadFooter(e.querySelector("footer")),loadCSS(`${window.hlx.codeBasePath}/styles/lazy-styles.css`),loadFonts(),sampleRUM("lazy"),sampleRUM.observe(t.querySelectorAll("div[data-block-name]")),sampleRUM.observe(t.querySelectorAll("picture > img"))}function loadDelayed(){window.setTimeout((()=>import("./delayed.js")),3e3),import("./sidekick.js").then((({initSidekick:e})=>e()))}async function loadingCustomCss(){[`${window.hlx.codeBasePath}/styles/legacy-container/legacy-container.css`,`${window.hlx.codeBasePath}/styles/design-gallery/design-gallery.css`,`${window.hlx.codeBasePath}/styles/simple-outer/simple-outer.css`,`${window.hlx.codeBasePath}/styles/home-improve/home-improve.css`,`${window.hlx.codeBasePath}/styles/head-redesign/head-redesign.css`,`${window.hlx.codeBasePath}/styles/testimonial-wrapper/testimonial-wrapper.css`].forEach((async e=>{await loadCSS(e)}))}async function loadPage(){await loadEager(document),await loadLazy(document),await loadingCustomCss(),loadDelayed()}loadPage();
